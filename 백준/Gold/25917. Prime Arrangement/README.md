# [Gold V] Prime Arrangement - 25917 

[문제 링크](https://www.acmicpc.net/problem/25917) 

### 성능 요약

메모리: 2020 KB, 시간: 44 ms

### 분류

조합론(combinatorics), 수학(math), 정수론(number_theory)

### 문제 설명

<p>정수 $R$, $C$가 주어진다. 이어 $R\times C$개의 서로 다른 소수 $A_i$가 주어진다. 소수는 $2$ 이상이고, $1$과 자기 자신으로만 나누어지는 양의 정수를 의미한다.</p>

<p>길이 $R$의 순열 $P$가 주어진다. 길이 $R$의 순열은 $1$부터 $R$까지의 정수가 단 한 번씩만 존재하는 수열이다.</p>

<p>당신은 $R$행 $C$열의 2차원 배열에 주어진 소수들을 단 한 번씩만 사용하여 배치할 수 있다. 배열의 각 자리에 최대 하나의 소수만이 들어갈 수 있다.</p>

<p>소수를 배치한 이후에는 각 행마다 가중치를 얻을 것이다. $i$번째 행의 가중치는 $i$번째 행에 존재하는 모든 소수들을 한 번씩 곱한 값으로 계산된다. ($1\leq i \leq R$)</p>

<p>당신은 올바른 소수의 배치 중 각 행의 가중치들을 작은 순서대로 나열했을 때, $i$번째 행의 가중치가 각각 $P_i$번째에 위치하도록 하는 배치의 수를 구해야 한다.</p>

### 입력 

 <p>입력은 아래와 같이 주어진다.</p>

<div style="background:#eeeeee;border:1px solid #cccccc;padding:5px 10px;">
<p>$R$ $C$ </p>

<p>$A_1$ $A_2$ ... $A_{RC}$</p>

<p>$P_1$ $P_2$ ... $P_R$</p>
</div>

### 출력 

 <p>가능한 배치의 수를 $998\,244\,353$으로 나눈 나머지를 출력한다. $998\,244\,353$은 소수이다.</p>

